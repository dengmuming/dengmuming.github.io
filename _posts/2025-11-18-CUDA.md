---
title: CUDA
date: 2025-11-18 21:00:00 +0800
categories: [AI]
tags: [AI, CUDA]
description: "CUDA env"
---

## 1、安装Nvidia驱动

nvidia是否安装：

+ <font style="color:rgb(0, 0, 0);">window：nvidia-smi.exe</font>
+ <font style="color:rgb(0, 0, 0);">ubuntu：nvidia-smi</font>

<font style="color:rgb(0, 0, 0);">注意：window如果已经安装nvidia，则wsl也默认有</font>

## 2、安装<font style="color:rgba(0, 0, 0, 0.85);">CUDA Toolkit</font>

[https://developer.nvidia.com/cuda-toolkit](https://developer.nvidia.com/cuda-toolkit)

cuda是否安装/版本（12.6，11.8都可以）：

+ 如果配置环境变量：nvcc -V
+ window：nvcc -V
+ linux（注意版本位置）：usr/local/cuda-12.6/bin/nvcc --version

> window安装注意：安装时候不要打开nvidia控制面板

注意nvidia驱动版本：<font style="color:rgb(0, 0, 0);">nvidia-smi，多版本可以共存</font>

## 3、安装Pytorch

安装pytorch：[https://pytorch.org/](https://pytorch.org/)

[https://pytorch.org/get-started/previous-versions/](https://pytorch.org/get-started/previous-versions/)

[https://developer.nvidia.com/cuda-toolkit-archive](https://developer.nvidia.com/cuda-toolkit-archive)

注意cuda版本，如果环境变量已经设置，可以命令行指定

```bash
# 设置CUDA 11.8环境变量
set CUDA_HOME=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.8
set PATH=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.8\bin;%PATH%
```

![](https://cdn.nlark.com/yuque/0/2025/png/40359153/1740714623438-15ab0db9-a27b-4422-8f47-132b44eacbb3.png)

其他命令：

```bash
# 验证安装：PyTorch版本: 2.7.0+cu118；CUDA可用: True
python -c "import torch; print('PyTorch版本:', torch.__version__); print('CUDA可用:', torch.cuda.is_available()); print('PyTorch版本:', torch.__version__); print('CUDA可用:', torch.cuda.is_available()); print(torch.version.cuda); print(torch.cuda.get_arch_list());"

# 卸载之前的torch
pip uninstall torch torchvision torchaudio

# 查看CUDA版本
python -c "import torch; print(torch.version.cuda)"
```



<font style="color:rgb(0, 0, 0);">包版本说明</font>

> + **<font style="color:rgb(0, 0, 0) !important;">pytorch==1.12.1</font>**<font style="color:rgba(0, 0, 0, 0.85) !important;">：明确指定安装 PyTorch 深度学习框架的 1.12.1 版本。</font>
> + **<font style="color:rgb(0, 0, 0) !important;">torchvision==0.13.1</font>**<font style="color:rgba(0, 0, 0, 0.85) !important;">：安装计算机视觉库 torchvision 的 0.13.1 版本，该版本是和 PyTorch 1.12.1 相对应的。</font>
> + **<font style="color:rgb(0, 0, 0) !important;">torchaudio==0.12.1</font>**<font style="color:rgba(0, 0, 0, 0.85) !important;">：安装音频处理库 torchaudio 的 0.12.1 版本，同样也是与 PyTorch 1.12.1 相匹配的。</font>
> + **<font style="color:rgb(0, 0, 0) !important;">cudatoolkit=11.6</font>**<font style="color:rgba(0, 0, 0, 0.85) !important;">：安装 CUDA 工具包的 11.6 版本，此工具包能让 PyTorch 在 NVIDIA GPU 上进行加速计算。</font>



## 4、安装<font style="color:rgba(0, 0, 0, 0.85);">Visual Studio编译链环境</font>

注意<font style="color:rgba(0, 0, 0, 0.85);">Visual Studio编译链和CUDA版本关系</font>

+ CUDA12.6，<font style="color:rgba(0, 0, 0, 0.85);">Visual Studio 2022</font>
+ CUDA11.8，<font style="color:rgba(0, 0, 0, 0.85);">Visual Studio 2015</font>

```bash
# 执行配置Visual Studio编译链环境，多版本可以共存
G:\soft\it\Microsoft Visual Studio\2022\Community\VC\Auxiliary\Build\vcvars64.bat
```



## 5、其他资料

<font style="color:rgb(0, 0, 0);">CUDA Toolkit Archive：</font>[https://developer.nvidia.com/cuda-toolkit-archive](https://developer.nvidia.com/cuda-toolkit-archive)

